<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Import CSV | onlineprint.lu Admin</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="css/admin.css">
</head>

<body class="admin-body">
    <!-- Admin Header -->
    <header class="admin-header">
        <div class="admin-header-content">
            <div class="admin-logo">
                <a href="../index.html" target="_blank">
                    <span class="logo-text">onlineprint<span class="logo-dot">.lu</span></span>
                </a>
                <span class="admin-badge">Admin</span>
            </div>
            <nav class="admin-nav">
                <a href="index.html">Tableau de bord</a>
                <a href="orders.html">Commandes</a>
                <a href="products.html" class="active">Produits</a>
                <a href="customers.html">Clients</a>
                <a href="settings.html">ParamÃ¨tres</a>
            </nav>
            <div class="admin-user">
                <span>ðŸ‘¤ Admin</span>
                <a href="logout.html" class="logout-btn">DÃ©connexion</a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="admin-main">
        <div class="admin-container">

            <!-- Page Header -->
            <div class="page-header">
                <h1>ðŸ“¤ Import de produits</h1>
                <p>Importez vos produits via fichier CSV</p>
            </div>

            <!-- Instructions -->
            <div class="section-card">
                <h2>Instructions</h2>
                <div class="instructions-grid">
                    <div class="instruction-step">
                        <span class="step-num">1</span>
                        <div>
                            <strong>TÃ©lÃ©chargez le modÃ¨le</strong>
                            <p>Utilisez notre fichier modÃ¨le CSV avec la structure correcte</p>
                        </div>
                    </div>
                    <div class="instruction-step">
                        <span class="step-num">2</span>
                        <div>
                            <strong>Ajoutez vos produits</strong>
                            <p>Remplissez le fichier avec vos produits et tarifs</p>
                        </div>
                    </div>
                    <div class="instruction-step">
                        <span class="step-num">3</span>
                        <div>
                            <strong>Importez le fichier</strong>
                            <p>Glissez-dÃ©posez ou sÃ©lectionnez votre fichier CSV</p>
                        </div>
                    </div>
                    <div class="instruction-step">
                        <span class="step-num">4</span>
                        <div>
                            <strong>VÃ©rifiez et validez</strong>
                            <p>PrÃ©visualisez les donnÃ©es avant de confirmer l'import</p>
                        </div>
                    </div>
                </div>

                <div class="template-download">
                    <a href="../../product-catalog-template.csv" download class="btn btn-secondary">
                        ðŸ“¥ TÃ©lÃ©charger le modÃ¨le CSV
                    </a>
                    <a href="../../CATALOGUE-README.md" target="_blank" class="btn btn-primary">
                        ðŸ“– Lire la documentation
                    </a>
                </div>
            </div>

            <!-- Upload Zone -->
            <div class="section-card">
                <h2>Importer un fichier</h2>

                <div class="import-zone" id="dropZone">
                    <div class="import-icon">ðŸ“„</div>
                    <h3>Glissez votre fichier CSV ici</h3>
                    <p>ou cliquez pour sÃ©lectionner un fichier</p>
                    <input type="file" id="csvFile" accept=".csv" hidden>
                </div>

                <div id="fileInfo" class="file-info" style="display: none;">
                    <div class="file-selected">
                        <span class="file-icon">ðŸ“„</span>
                        <div class="file-details">
                            <strong id="fileName"></strong>
                            <span id="fileSize"></span>
                        </div>
                        <button class="btn btn-outline" id="removeFile">âœ• Supprimer</button>
                    </div>
                </div>
            </div>

            <!-- Preview Section -->
            <div class="section-card preview-section" id="previewSection">
                <h2>AperÃ§u des donnÃ©es</h2>

                <div class="preview-info" id="previewInfo">
                    <!-- Will be populated by JS -->
                </div>

                <div class="preview-table-wrapper">
                    <table class="admin-table" id="previewTable">
                        <thead id="previewHeaders"></thead>
                        <tbody id="previewBody"></tbody>
                    </table>
                </div>

                <div class="import-actions">
                    <button class="btn btn-secondary" id="cancelImport">Annuler</button>
                    <button class="btn btn-action" id="confirmImport">âœ“ Confirmer l'import</button>
                </div>
            </div>

            <!-- Import Result -->
            <div class="section-card import-result" id="importResult" style="display: none;">
                <h2>RÃ©sultat de l'import</h2>
                <div id="resultContent"></div>
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="admin-footer">
        <p>Â© 2025 onlineprint.lu - Panneau d'administration v1.0</p>
    </footer>

    <script src="js/admin.js"></script>
    <script src="js/import.js"></script>

    <style>
        .instructions-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .instruction-step {
            display: flex;
            gap: 15px;
            align-items: flex-start;
        }

        .step-num {
            width: 35px;
            height: 35px;
            background-color: #a0d911;
            color: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .instruction-step strong {
            display: block;
            margin-bottom: 5px;
            color: #1a1a2e;
        }

        .instruction-step p {
            font-size: 13px;
            color: #666;
            margin: 0;
        }

        .template-download {
            display: flex;
            gap: 15px;
            padding-top: 20px;
            border-top: 1px solid #f0f0f0;
        }

        .file-info {
            margin-top: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 4px;
        }

        .file-selected {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .file-icon {
            font-size: 32px;
        }

        .file-details {
            flex: 1;
        }

        .file-details strong {
            display: block;
            color: #1a1a2e;
        }

        .file-details span {
            font-size: 12px;
            color: #666;
        }

        .btn-outline {
            background: none;
            border: 1px solid #ddd;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
        }

        .preview-table-wrapper {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            margin-bottom: 20px;
        }

        .import-actions {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
        }

        .import-result.success {
            background-color: #e8f5e9;
            border-color: #a5d6a7;
        }

        .import-result.error {
            background-color: #ffebee;
            border-color: #ef9a9a;
        }

        @media (max-width: 992px) {
            .instructions-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 640px) {
            .instructions-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</body>

</html>