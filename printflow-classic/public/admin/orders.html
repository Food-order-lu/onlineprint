<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion des Commandes | onlineprint.lu Admin</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="./css/admin.css">
</head>

<body class="admin-body">
    <header class="admin-header">
        <div class="admin-header-content">
            <div class="admin-logo">
                <a href="../index.html" target="_blank">
                    <span class="logo-text">onlineprint<span class="logo-dot">.lu</span></span>
                </a>
                <span class="admin-badge">Admin</span>
            </div>
            <nav class="admin-nav">
                <a href="index.html">Tableau de bord</a>
                <a href="orders.html" class="active">Commandes</a>
                <a href="products.html">Produits</a>
                <a href="customers.html">Clients</a>
                <a href="settings.html">ParamÃ¨tres</a>
            </nav>
            <div class="admin-user">
                <span>ðŸ‘¤ Admin</span>
                <a href="logout.html" class="logout-btn">DÃ©connexion</a>
            </div>
        </div>
    </header>

    <main class="admin-main">
        <div class="admin-container">
            <div class="page-header">
                <h1>ðŸ“¦ Gestion des Commandes</h1>
                <p>Suivez vos commandes et analysez vos marges</p>
            </div>

            <!-- Margin Summary -->
            <div class="kpi-grid">
                <div class="kpi-card">
                    <div class="kpi-icon">ðŸ“¦</div>
                    <div class="kpi-content">
                        <div class="kpi-value" id="total-orders">0</div>
                        <div class="kpi-label">Commandes totales</div>
                    </div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-icon">ðŸ’°</div>
                    <div class="kpi-content">
                        <div class="kpi-value" id="total-revenue">0,00 â‚¬</div>
                        <div class="kpi-label">Chiffre d'affaires</div>
                    </div>
                </div>
                <div class="kpi-card" style="background: linear-gradient(135deg, #e8f5e9, #c8e6c9);">
                    <div class="kpi-icon">ðŸ“ˆ</div>
                    <div class="kpi-content">
                        <div class="kpi-value" id="total-margin" style="color: #2e7d32;">0,00 â‚¬</div>
                        <div class="kpi-label">Marge totale</div>
                    </div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-icon">ðŸ“Š</div>
                    <div class="kpi-content">
                        <div class="kpi-value" id="avg-margin-percent">0%</div>
                        <div class="kpi-label">Marge moyenne</div>
                    </div>
                </div>
            </div>

            <!-- Orders Table -->
            <div class="section-card">
                <div class="section-header">
                    <h2>Historique des commandes</h2>
                    <button class="btn btn-secondary" onclick="createTestOrder()">+ CrÃ©er commande test</button>
                </div>

                <table class="admin-table" id="ordersTable">
                    <thead>
                        <tr>
                            <th>NÂ° Commande</th>
                            <th>Date</th>
                            <th>Produit</th>
                            <th>QuantitÃ©</th>
                            <th>Prix vente TTC</th>
                            <th>CoÃ»t fournisseur</th>
                            <th style="background: #e8f5e9;">Marge â‚¬</th>
                            <th style="background: #e8f5e9;">Marge %</th>
                            <th>Statut</th>
                        </tr>
                    </thead>
                    <tbody id="ordersBody">
                        <tr>
                            <td colspan="9" class="empty-state">Aucune commande pour le moment</td>
                        </tr>
                    </tbody>
                    <tfoot id="ordersTotals" style="display: none;">
                        <tr style="background: #f5f5f5; font-weight: bold;">
                            <td colspan="4">TOTAUX</td>
                            <td id="foot-revenue">-</td>
                            <td id="foot-cost">-</td>
                            <td style="background: #c8e6c9; color: #2e7d32;" id="foot-margin">-</td>
                            <td style="background: #c8e6c9; color: #2e7d32;" id="foot-margin-pct">-</td>
                            <td></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </main>

    <footer class="admin-footer">
        <p>Â© 2025 onlineprint.lu - Panneau d'administration v1.0</p>
    </footer>

    <script src="./js/admin.js"></script>
    <script src="./js/orders.js"></script>
</body>

</html>